= Example Java Spring Boot application for {PRODUCT} feature management

Use this example application to integrate with {PRODUCT} and test feature management. After integrating, observe changes in the application UI as you update flag values in {PRODUCT}.

In this example, the Rox SDK is already set up, and feature flags are implemented in the code.

== Get started with the Java Spring Boot project

To get started with the `springboot-fm-example` project, follow these steps:

. Using Git, clone the link:https://github.com/cloudbees-io/springboot-fm-example[springboot-fm-example] repository to your local machine:
+
[source,shell]
----
git clone git@github.com:cloudbees-io/springboot-fm-example.git
----

. [[reopen-project]] In your IDE, select menu:File[] and open the cloned repository as a Gradle project.
You will revisit this project in your IDE later to run the application.

. Locate and copy the SDK key:
.. Navigate to menu:Feature management[Flags].
.. Select an application.
.. Select [COPY] next to the SDK key on the page.
+
[NOTE]
====
If no SDK key is available:

. Navigate to menu:Feature management[Flags].
. Select [Install instructions] in the upper-right corner.
. Follow the installation instructions to complete the installation. The SDK key will appear once an application is linked to an environment.
. Close the installation instructions, and copy the SDK key.
====

. <<reopen-project, Reopen the project>> in your IDE.

. Add the SDK key to the application:
.. Open the `application.yaml` file:
+
[source]
----
src/main/resources/application.yaml
----
.. Locate the following placeholder in the file, and replace it with your SDK key:
+
[source,yaml,subs=+quotes]
----
key: "<Your CloudBees SDK key>"
----

. Save the updated file.
. Run the application in your IDE. For example:
+
[source,shell]
----
./gradlew bootRun
----

. To view the application running, go to http://localhost:8080/api/demo in your web browser.

== View the imported flags

Now that your application is running:

. In {PRODUCT}, select menu:Feature management[].
. Select your example application to display the available flags as shown in the table below.
+
[#flag-list]
[cols="1a,1a,4a",options="header"]
.Feature flags in the example application
|===
| Flag name
| Flag type
| Description

| `showMessage`
| Boolean
| Turns the message on or off.

| `message`
| String
| Sets the message text.

| `fontSize`
| Number
| Sets the message font size in pixels. The flag value has the following variations: `12`, `16`, or `24`.

| `fontColor` | String | Sets the message font color. The flag value has the following variations: `red`, `green`, or `blue`.
|===
+
[NOTE]
====
If no flags are displayed, verify that the environment-specific SDK key is correctly added to the project file:
    `src/main/resources/application.yaml`

Save the file, and restart the application.
====

== Apply changes to flags in the UI

. Select menu:Feature management[].
. Select the application.
. Select the [Vertical ellipsis] next to the flag you want to configure.
. Select *Configure*.
. Select the *Environment*.
. Update a flag value and save your changes.
. Set the btn:[Configuration status] to btn:[On].
. The updated flag value is reflected in the application display shortly.

== Use the application with multiple SDK keys

Run multiple instances of the SDK in a single application, each with its own SDK key and environment.
Each instance is fully isolated.
Use this when you need to read or compare flags across environments without redeploying, support multi-tenant routing, or combine server-side and client-side evaluations in one application.

To use multiple SDK keys in the example Spring Boot application, follow these steps:

. Retrieve the SDK keys for the environments youâ€™ll use.
. Initialize a separate SDK instance for each key.
. Decide how to route requests to instances (for example, by tenant, region, or environment selector).
. Perform register/fetch/stream setup on each instance as required by your SDK.
. Evaluate flags using the selected instance. Pass a consistent user/context object for accurate targeting.
. Tag logs or metrics by instance, and shut down instances you no longer need.

== Documentation reference

For more information about using multiple SDK keys, refer to link:https://docs.cloudbees.com/docs/cloudbees-platform/latest/feature-management/use-multiple-sdk-keys[Use multiple SDK keys].

For installation details, refer to link:https://docs.cloudbees.com/docs/cloudbees-platform/latest/install-sdk/[Install the SDK].


